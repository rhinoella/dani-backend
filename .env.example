
APP_NAME="DANI Engine"
ENV=development
DEBUG=true
API_V1_PREFIX=/api/v1

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,https://dani-frontend.onrender.com

# =============================================================================
# LLM & Embeddings Configuration
# =============================================================================

# Ollama Configuration
# OLLAMA_ENV: "local" for Docker Ollama, "cloud" for Ollama Cloud
# When using "local": No API key needed, uses OLLAMA_LOCAL_URL
# When using "cloud": Requires OLLAMA_API_KEY, uses OLLAMA_CLOUD_URL
OLLAMA_ENV=cloud
OLLAMA_LOCAL_URL=http://localhost:11434
OLLAMA_CLOUD_URL=https://ollama.com
OLLAMA_API_KEY=your-ollama-api-key
LLM_MODEL=ministral-3:8b

EMBEDDING_PROVIDER=openrouter
EMBEDDING_MODEL=nomic-embed-text
OPENROUTER_API_KEY=your-openrouter-api-key

# =============================================================================
# Vector Database (Qdrant)
# =============================================================================

QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your-qdrant-api-key
QDRANT_COLLECTION_TRANSCRIPTS=meeting_transcripts
QDRANT_COLLECTION_DOCUMENTS=documents

# =============================================================================
# PostgreSQL Database
# =============================================================================

DB_CONNECTION=postgresql+asyncpg
DB_HOST=localhost
DB_PORT=5432
DB_DATABASE=dani_db
DB_USERNAME=postgres
DB_PASSWORD=your-password

# Connection Pool Settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# =============================================================================
# Redis Cache
# =============================================================================

REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=20
REDIS_SOCKET_TIMEOUT=5.0
REDIS_SOCKET_CONNECT_TIMEOUT=5.0

# Semantic Cache (for LLM responses)
SEMANTIC_CACHE_ENABLED=true
SEMANTIC_CACHE_SIMILARITY_THRESHOLD=0.92
SEMANTIC_CACHE_TTL_SECONDS=1800
SEMANTIC_CACHE_MAX_SIZE=200

# Embedding Cache (for vector embeddings)
EMBEDDING_CACHE_ENABLED=true
EMBEDDING_CACHE_SIMILARITY_THRESHOLD=0.98
EMBEDDING_CACHE_TTL_SECONDS=3600
EMBEDDING_CACHE_MAX_SIZE=500

# =============================================================================
# Authentication & Security
# =============================================================================

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_AUTH_ENABLED=true

# JWT Configuration
JWT_SECRET_KEY=your-secret-key-change-in-production-use-openssl-rand-hex-32

# =============================================================================
# Rate Limiting
# =============================================================================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=200
RATE_LIMIT_PER_DAY=500

# =============================================================================
# Conversation & Message Limits
# =============================================================================

MAX_CONVERSATIONS_PER_USER=100
MAX_MESSAGES_PER_CONVERSATION=200
MAX_MESSAGE_LENGTH=4000

# History Management
MIN_HISTORY_MESSAGES=6
MAX_HISTORY_MESSAGES=15
SUMMARIZE_AFTER_MESSAGES=20
CONTEXT_BUDGET_TOKENS=2000
TOKENS_PER_MESSAGE_ESTIMATE=150

# =============================================================================
# Fireflies.ai Integration
# =============================================================================

FIREFLIES_API_KEY=your-fireflies-api-key
FIREFLIES_BASE_URL=https://api.fireflies.ai/graphql

# Background Ingestion
# Set to false to disable automatic transcript syncing
BACKGROUND_INGESTION_ENABLED=false

# =============================================================================
# AWS S3 Storage
# =============================================================================

AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=eu-west-2
S3_BUCKET_NAME=dani-archive
S3_DOCUMENTS_PREFIX=documents/
S3_PRESIGNED_URL_EXPIRY=3600

# =============================================================================
# Search Configuration
# =============================================================================

# Hybrid Search (Vector + Keyword)
HYBRID_SEARCH_ENABLED=true

# =============================================================================
# Webhooks
# =============================================================================

WEBHOOK_ENABLED=true

# =============================================================================
# MCP (Model Context Protocol) Configuration
# =============================================================================

MCP_ENABLED=true
MCP_CONNECTION_TIMEOUT=30.0
MCP_TOOL_TIMEOUT=60.0
MCP_MAX_RETRIES=3
MCP_RETRY_DELAY=1.0
MCP_AUTO_RECONNECT=true
MCP_HEALTH_CHECK_INTERVAL=60
MCP_MAX_CONCURRENT_CALLS=5
MCP_ALLOWED_COMMANDS=npx,uvx,node,python

# MCP Image Generation
MCP_GENERATED_IMAGES_DIR=./generated_images
GEMINI_API_KEY=your-google-gemini-api-key
IMGBB_API_KEY=your-imgbb-api-key

